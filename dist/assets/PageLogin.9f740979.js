import{g as d,z as b,r,o as w,i as L,w as e,a,j as m,l as g}from"./vendor.30b2d013.js";import{U as y,a as S}from"./UiInput.a308fd8d.js";import{U as V}from"./UiLink.8d39fc32.js";import{U as k}from"./UiButton.aef3540d.js";import{L as F,U as v}from"./LayoutAuth.8d4c5087.js";import{_ as x,u as B,l as A,s as G,r as I}from"./index.079bc0eb.js";import"./UiPageTitle.2acb23d3.js";const j={name:"PageLogin",components:{LayoutAuth:F,UiForm:v,UiButton:k,UiInput:y,UiLink:V,UiFormGroup:S},setup(){const i=d(""),o=d(""),n=b("toaster"),t=B();return{email:i,password:o,handleSubmit:async()=>{await A(i.value,o.value).then(s=>{if(s.success===!0)t.updateUser(),G("user",s.data.fullname),I.push("/"),n().success("\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E");else return n().error("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0435 \u0443\u0447\u0451\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435...")}).catch(s=>n().error(s.message))}}}};function q(i,o,n,t,c,s){const u=r("UiInput"),p=r("UiFormGroup"),U=r("UiButton"),_=r("UiLink"),f=r("UiForm"),h=r("LayoutAuth");return w(),L(h,{title:"\u0412\u0445\u043E\u0434"},{default:e(()=>[a(f,{onSubmit:g(t.handleSubmit,["prevent"])},{buttons:e(()=>[a(U,{variant:"primary",type:"submit",block:""},{default:e(()=>[m("\u0412\u043E\u0439\u0442\u0438")]),_:1})]),append:e(()=>[m(" \u041D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? "),a(_,{to:{name:"register"},class:"link"},{default:e(()=>[m("\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044C")]),_:1})]),default:e(()=>[a(p,{label:"Email"},{default:e(()=>[a(u,{modelValue:t.email,"onUpdate:modelValue":o[0]||(o[0]=l=>t.email=l),name:"email",type:"email",placeholder:"demo@email",required:""},null,8,["modelValue"])]),_:1}),a(p,{label:"\u041F\u0430\u0440\u043E\u043B\u044C"},{default:e(()=>[a(u,{modelValue:t.password,"onUpdate:modelValue":o[1]||(o[1]=l=>t.password=l),name:"password",type:"password",placeholder:"password",required:""},null,8,["modelValue"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})}const D=x(j,[["render",q]]);export{D as default};
