import{U as I,g as z,c as F,h as V,a as B,M as y}from"./UiRadioGroup.265a4279.js";import{_ as b,U as k,d as D,c as A}from"./index.c9909d86.js";import{U as L,a as T}from"./UiInput.d39a7fa4.js";import{g as N}from"./meetupsApi.d0afaae5.js";import{g as _,L as O,h as g,r as i,o as d,i as p,w as n,d as l,a as s,K as P,n as R,j as w,p as S,b as j}from"./vendor.30b2d013.js";import"./MeetupInfo.46eafbc1.js";function K(){const a=_(null);return O(async()=>{a.value=(await N()).data}),{meetups:a}}function q(a){const e=_({date:"all",participation:"all",search:""}),u=[{text:"\u0412\u0441\u0435",value:"all"},{text:"\u041F\u0440\u043E\u0448\u0435\u0434\u0448\u0438\u0435",value:"past"},{text:"\u041E\u0436\u0438\u0434\u0430\u0435\u043C\u044B\u0435",value:"future"}],o=g(()=>{const r=t=>e.value.date==="all"||e.value.date==="past"&&new Date(t.date)<=new Date||e.value.date==="future"&&new Date(t.date)>new Date,m=t=>e.value.participation==="all"||e.value.participation==="organizing"&&t.organizing||e.value.participation==="attending"&&t.attending,v=t=>[t.title,t.description,t.place,t.organizer].join(" ").toLowerCase().includes(e.value.search.toLowerCase());return a.value.filter(t=>r(t)&&m(t)&&v(t))});return{filter:e,dateFilterOptions:u,filteredMeetups:o}}const E={name:"PageMeetups",components:{UiTransitionGroupFade:I,UiInput:L,UiFormGroup:T,UiButtonGroupItem:z,UiIcon:k,UiRadioGroup:F,UiButtonGroup:V,UiContainer:D,UiAlert:A},setup(){const{meetups:a}=K(),{filteredMeetups:e,filter:u,dateFilterOptions:o}=q(a),r=_("list"),m=g(()=>({list:B,calendar:y})[r.value]);return{meetups:a,filter:u,filteredMeetups:e,dateFilterOptions:o,view:r,viewComponent:m}}},M=a=>(S("data-v-6cbfd94b"),a=a(),j(),a),H={class:"filters-panel"},J={class:"filters-panel__col"},Q={class:"filters-panel__col"},W=M(()=>l("svg",{fill:"none",height:"28",viewBox:"0 0 28 28",width:"28",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"clip-rule":"evenodd",d:"m5 7c-.55228 0-1 .44772-1 1s.44772 1 1 1h.01c.55228 0 1-.44772 1-1s-.44772-1-1-1zm5 0c-.55228 0-1 .44772-1 1s.44772 1 1 1h13c.5523 0 1-.44772 1-1s-.4477-1-1-1zm0 6c-.55228 0-1 .4477-1 1s.44772 1 1 1h13c.5523 0 1-.4477 1-1s-.4477-1-1-1zm-1 7c0-.5523.44772-1 1-1h13c.5523 0 1 .4477 1 1s-.4477 1-1 1h-13c-.55228 0-1-.4477-1-1zm-5-6c0-.5523.44772-1 1-1h.01c.55228 0 1 .4477 1 1s-.44772 1-1 1h-.01c-.55228 0-1-.4477-1-1zm1 5c-.55228 0-1 .4477-1 1s.44772 1 1 1h.01c.55228 0 1-.4477 1-1s-.44772-1-1-1z","fill-rule":"evenodd"})],-1)),X=M(()=>l("svg",{height:"22",viewBox:"0 0 20 22",width:"20",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"clip-rule":"evenodd",d:"m15 1c0-.552285-.4477-1-1-1s-1 .447715-1 1v1h-6v-1c0-.552285-.44772-1-1-1s-1 .447715-1 1v1h-2c-1.65685 0-3 1.34315-3 3v14c0 1.6569 1.34315 3 3 3h14c1.6569 0 3-1.3431 3-3v-14c0-1.65685-1.3431-3-3-3h-2zm3 7v-3c0-.55228-.4477-1-1-1h-2v1c0 .55228-.4477 1-1 1s-1-.44772-1-1v-1h-6v1c0 .55228-.44772 1-1 1s-1-.44772-1-1v-1h-2c-.55228 0-1 .44772-1 1v3zm-16 2h16v9c0 .5523-.4477 1-1 1h-14c-.55228 0-1-.4477-1-1z","fill-rule":"evenodd"})],-1));function Y(a,e,u,o,r,m){const v=i("UiRadioGroup"),t=i("UiIcon"),C=i("UiInput"),f=i("UiFormGroup"),h=i("UiButtonGroupItem"),x=i("UiButtonGroup"),U=i("UiAlert"),G=i("UiContainer");return d(),p(G,null,{default:n(()=>[l("div",H,[l("div",J,[s(v,{modelValue:o.filter.date,"onUpdate:modelValue":e[0]||(e[0]=c=>o.filter.date=c),options:o.dateFilterOptions,name:"date"},null,8,["modelValue","options"])]),l("div",Q,[s(f,{inline:""},{default:n(()=>[s(C,{modelValue:o.filter.search,"onUpdate:modelValue":e[1]||(e[1]=c=>o.filter.search=c),modelModifiers:{trim:!0},rounded:"",small:"",placeholder:"\u041F\u043E\u0438\u0441\u043A",type:"search"},{"left-icon":n(()=>[s(t,{icon:"search"})]),_:1},8,["modelValue"])]),_:1}),s(f,{inline:""},{default:n(()=>[s(x,{modelValue:o.view,"onUpdate:modelValue":e[2]||(e[2]=c=>o.view=c)},{default:n(()=>[s(h,{value:"list"},{default:n(()=>[W]),_:1}),s(h,{value:"calendar"},{default:n(()=>[X]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),o.meetups?(d(),p(P,{key:0,include:"MeetupsCalendar"},[o.filteredMeetups.length?(d(),p(R(o.viewComponent),{key:0,meetups:o.filteredMeetups},null,8,["meetups"])):(d(),p(U,{key:1},{default:n(()=>[w("\u041C\u0438\u0442\u0430\u043F\u043E\u0432 \u043F\u043E \u0437\u0430\u0434\u0430\u043D\u043D\u044B\u043C \u0443\u0441\u043B\u043E\u0432\u0438\u044F\u043C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E...")]),_:1}))],1024)):(d(),p(U,{key:1},{default:n(()=>[w("\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...")]),_:1}))]),_:1})}const ne=b(E,[["render",Y],["__scopeId","data-v-6cbfd94b"]]);export{ne as default};
